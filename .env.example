# Bithumb API credentials
BITHUMB_ACCESS_KEY=
BITHUMB_SECRET_KEY=

# API rate limits (Bithumb official)
BITHUMB_PUBLIC_MAX_PER_SEC=150
BITHUMB_PRIVATE_MAX_PER_SEC=140
BITHUMB_WS_PUBLIC_URL=wss://ws-api.bithumb.com/websocket/v1
BITHUMB_WS_PRIVATE_URL=wss://ws-api.bithumb.com/websocket/v1/private
BITHUMB_WS_CONNECT_MAX_PER_SEC=5

# Runtime
TRADER_PAPER_MODE=true
TRADER_PAPER_INITIAL_CASH_KRW=1000000
TRADER_STATE_FILE=.trader/state.json
TRADER_OVERLAY_FILE=.trader/overlay.json
TRADER_HTTP_AUDIT_ENABLED=true
TRADER_HTTP_AUDIT_FILE=.trader/http-audit.jsonl
TRADER_STATE_LOCK_STALE_MS=30000
TZ=Asia/Seoul

# Strategy (orthodox low-latency flow, default: risk-managed momentum)
STRATEGY_NAME=risk_managed_momentum
STRATEGY_SYMBOL=BTC_KRW
STRATEGY_CANDLE_INTERVAL=15m
STRATEGY_CANDLE_COUNT=120
# breakout params (used when STRATEGY_NAME=breakout)
STRATEGY_BREAKOUT_LOOKBACK=20
STRATEGY_BREAKOUT_BUFFER_BPS=5
# risk-managed momentum params (used by default)
STRATEGY_MOMENTUM_LOOKBACK=48
STRATEGY_VOLATILITY_LOOKBACK=96
STRATEGY_MOMENTUM_ENTRY_BPS=20
STRATEGY_MOMENTUM_EXIT_BPS=10
STRATEGY_TARGET_VOLATILITY_PCT=0.35
STRATEGY_RM_MIN_MULTIPLIER=0.4
STRATEGY_RM_MAX_MULTIPLIER=1.8
STRATEGY_AUTO_SELL_ENABLED=true
STRATEGY_BASE_ORDER_AMOUNT_KRW=5000

# Risk
RISK_MIN_ORDER_NOTIONAL_KRW=5000
RISK_MAX_ORDER_NOTIONAL_KRW=300000
RISK_MAX_OPEN_ORDERS=5
RISK_MAX_EXPOSURE_KRW=2000000
RISK_MAX_DAILY_LOSS_KRW=500000
TRADER_INITIAL_CAPITAL_KRW=

# Overlay (AI/ML output cache only; never in execution timing path)
OVERLAY_ENABLED=true
OVERLAY_TIMEOUT_MS=500
OVERLAY_DEFAULT_MULTIPLIER=1
OVERLAY_FALLBACK_MULTIPLIER=1
OVERLAY_MIN_MULTIPLIER=0.2
OVERLAY_MAX_MULTIPLIER=1.5
OVERLAY_MAX_STALENESS_SEC=600

# AI runtime settings bridge (AI writes this file; execution loop reads every window)
AI_SETTINGS_ENABLED=true
AI_SETTINGS_FILE=.trader/ai-settings.json
AI_SETTINGS_APPLY_OVERLAY=true
AI_SETTINGS_APPLY_KILL_SWITCH=true

# Strategy optimizer (safe-return parameter search; writes best config to AI settings)
OPTIMIZER_ENABLED=true
OPTIMIZER_APPLY_ON_START=false
OPTIMIZER_APPLY_TO_AI_SETTINGS=true
OPTIMIZER_REOPT_ENABLED=true
OPTIMIZER_REOPT_INTERVAL_SEC=3600
OPTIMIZER_REPORT_FILE=.trader/optimizer-report.json
OPTIMIZER_SYMBOLS=BTC_KRW,ETH_KRW,USDT_KRW
OPTIMIZER_INTERVAL=15m
OPTIMIZER_CANDLE_COUNT=200
OPTIMIZER_INITIAL_CASH_KRW=1000000
OPTIMIZER_BASE_ORDER_AMOUNT_KRW=5000
OPTIMIZER_MIN_ORDER_NOTIONAL_KRW=5000
OPTIMIZER_FEE_BPS=5
OPTIMIZER_MAX_DRAWDOWN_PCT=10
OPTIMIZER_MIN_TRADES=4
OPTIMIZER_MIN_WIN_RATE_PCT=45
OPTIMIZER_MIN_PROFIT_FACTOR=1.05
OPTIMIZER_MIN_RETURN_PCT=0
OPTIMIZER_TOP_RESULTS=10
OPTIMIZER_MOMENTUM_LOOKBACKS=24,36,48,72
OPTIMIZER_VOLATILITY_LOOKBACKS=72,96,120,144
OPTIMIZER_ENTRY_BPS=10,16,24,32
OPTIMIZER_EXIT_BPS=6,10,14,20
OPTIMIZER_TARGET_VOLATILITY_PCT=0.35,0.5
OPTIMIZER_RM_MIN_MULTIPLIER=0.4
OPTIMIZER_RM_MAX_MULTIPLIER=1.6,1.8

# Execution daemon (npm start)
EXECUTION_ENABLED=true
EXECUTION_SYMBOL=BTC_KRW
EXECUTION_ORDER_AMOUNT_KRW=5000
EXECUTION_WINDOW_SEC=300
EXECUTION_COOLDOWN_SEC=30
EXECUTION_DRY_RUN=true
EXECUTION_RESTART_DELAY_MS=1000
# 0 means infinite loop
EXECUTION_MAX_WINDOWS=0

# Smoke test (npm run smoke / npm run smoke:write)
SMOKE_ENABLE_WRITES=false
SMOKE_WRITE_CONFIRM=
SMOKE_ORDER_AMOUNT_KRW=6000
SMOKE_LIMIT_PRICE_FACTOR=0.2
SMOKE_CANCEL_DELAY_MS=1500
